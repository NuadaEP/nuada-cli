<% if (props.sucrase) { -%>
import Axios from 'axios';
<% } else { -%>
const Axios = require('axios');
<% } -%>

class AxiosService {
  async index(method, url, headers = {}, params = {}, data = {}) {
    try {
      const request = {
        method,
        url,
        ...headers,
        ...params,
        ...data
      }

      return await axios(request);
    } catch (error) {
      throw { error }
    }
  }
}

<% if (props.sucrase) { -%>
export default new AxiosService().index
<% } else { -%>
module.exports = new AxiosService().index
<% } -%>
