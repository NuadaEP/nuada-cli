<% if (props.sucrase) { -%>
import Axios from 'axios';
<% } else { -%>
const Axios = require('axios');
<% } -%>

class AxiosService {
  async execute(method, url, headers = {}, params = {}, data = {}) {
    try {
      const request = {
        method,
        url,
      };

      Object.assign(request, { headers, params, data });

      return await Axios(request);
    } catch (error) {
      const { data, status } = error.response;

      throw new AppError(data, status);
    }
  }
}

<% if (props.sucrase) { -%>
export default new AxiosService()
<% } else { -%>
module.exports = new AxiosService()
<% } -%>
